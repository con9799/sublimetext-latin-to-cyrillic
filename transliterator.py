import sublime
import sublime_plugin
import re

class TransliteratorCommand(sublime_plugin.TextCommand):
	rl_words = ["abzas","aksent","avianoses","batsilla","biomitsin","botsman","bronenoses","brutselloz","cherepitsa","dotsent","fransuz","gaubitsa","gers","glitserin","gorchitsa","gusenitsa","inersiya","inssenirovka","kalsiy","kansler","koeffitsient","konferens-zal","konsepsiya","konsern","konsert","konslager","kultivatsiya","kvars","litsey","lotsman","marganes","minonoses","munitsipalitet","ofitsiant","penitsillin","platsdarm","platskarta","politsmeyster","jinsiyat","pensiya","ranes","ritsar","sellofan","selluloid","selluloza","selsiy","sement","sentner","sentrifuga","senz","senzor","senzura","sex","shnitsel","shveysar","siferblat","silindr","silindrik","singa","sink","sirk","sirkulyar","sisterna","sitrus","sotsiologik","sotsiologiya","ssenariy","kultivator","kultivatsiya","kuryer","lager","losos","mebel","medal","medalyon","menshevik","menshevizm","migren","mikrofilm","mil","model","neft","nikel","nippel","nol","noyabr","oktabr","palto","panel","parallel","parol","parter","patrul","pavilyon","pedal","plastir","pochtalyon","porshen","portfel","povest","predoxranitel","premyera","pristan","puls","pyesa","rels","relyef","rentabel","rezba","ritsar","rol","royal","rul","seld","selsiy","sentabr","shinel","shnitsel","shpatel","shpilka","shpindel","shtapel","shtempel","shtepsel","spektakl","spiral","sterjen","sudya","sulfat","tabel","tekstil","tokar","tulen","tunnel","umivalnik","valeryanka","vals","veksel","velvet","ventil","vermishel","vimpel","violonchel","volfram","volt","volta","voltmetr","vulgar","yakor","yanvar","yuriskonsult","ansambl","artel","artikl","aryergard","asfalt","atelye","avtomobil","balzam","banderol","batalyon","bilyard","binokl","bolshevik","budilnik","bulvar","dalton","dekabr","delfin","devalvatsiya","dirijabl","dizel","dizel-motor","duel","dvigatel","emulsiya","eskadrilya","fakultativ","fakultet","falsifikator","falsifikatsiya","feldmarshal","feldsher","festival","fevral","filtr","folklor","fotoalbom","fotoatelye","gantel","gastrol","gilza","gospital","gotovalniy","grifel","impuls","insult","intervyu","inyeksiya","italyan","iyul","iyun","kabel","kalendar","kanifol","karamel","kartel","karusel","katapulta","kinofestival","kinofilm","kisel","kitel","kobalt","kompanyon","konferansye","obyekt","razyezd","subyekt","syezd","syomka","Abzas","Aksent","Avianoses","Batsilla","Biomitsin","Botsman","Bronenoses","Brutselloz","Cherepitsa","Dotsent","Fransuz","Gaubitsa","Gers","Glitserin","Gorchitsa","Gusenitsa","Inersiya","Inssenirovka","Kalsiy","Kansler","Koeffitsient","Konferens-Zal","Konsepsiya","Konsern","Konsert","Konslager","Kultivatsiya","Kvars","Litsey","Lotsman","Marganes","Minonoses","Munitsipalitet","Ofitsiant","Penitsillin","Platsdarm","Platskarta","Politsmeyster","Jinsiyat","Pensiya","Ranes","Ritsar","Sellofan","Selluloid","Selluloza","Selsiy","Sement","Sentner","Sentrifuga","Senz","Senzor","Senzura","Sex","Shnitsel","Shveysar","Siferblat","Silindr","Silindrik","Singa","Sink","Sirk","Sirkulyar","Sisterna","Sitrus","Sotsiologik","Sotsiologiya","Ssenariy","Kultivator","Kultivatsiya","Kuryer","Lager","Losos","Mebel","Medal","Medalyon","Menshevik","Menshevizm","Migren","Mikrofilm"," Mil ","Model","Neft","Nikel","Nippel","Nol","Noyabr","Oktabr","Palto","Panel","Parallel","Parol","Parter","Patrul","Pavilyon","Pedal","Plastir","Pochtalyon","Porshen","Portfel","Povest","Predoxranitel","Premyera","Pristan","Puls","Pyesa","Rels","Relyef","Rentabel","Rezba","Ritsar","Rol","Royal","Rul","Seld","Selsiy","Sentabr","Shinel","Shnitsel","Shpatel","Shpilka","Shpindel","Shtapel","Shtempel","Shtepsel","Spektakl","Spiral","Sterjen","Sudya","Sulfat","Tabel","Tekstil","Tokar","Tulen","Tunnel","Umivalnik","Valeryanka","Vals","Veksel","Velvet","Ventil","Vermishel","Vimpel","Violonchel","Volfram","Volt","Volta","Voltmetr","Vulgar","Yakor","Yanvar","Yuriskonsult","Ansambl","Artel","Artikl","Aryergard","Asfalt","Atelye","Avtomobil","Balzam","Banderol","Batalyon","Bilyard","Binokl","Bolshevik","Budilnik","Bulvar","Dalton","Dekabr","Delfin","Devalvatsiya","Dirijabl","Dizel","Dizel-Motor","Duel","Dvigatel","Emulsiya","Eskadrilya","Fakultativ","Fakultet","Falsifikator","Falsifikatsiya","Feldmarshal","Feldsher","Festival","Fevral","Filtr","Folklor","Fotoalbom","Fotoatelye","Gantel","Gastrol","Gilza","Gospital","Gotovalniy","Grifel","Impuls","Insult","Intervyu","Inyeksiya","Italyan","Iyul","Iyun","Kabel","Kalendar","Kanifol","Karamel","Kartel","Karusel","Katapulta","Kinofestival","Kinofilm","Kisel","Kitel","Kobalt","Kompanyon","Konferansye","Obyekt","Razyezd","Subyekt","Syezd","Syomka","ABZAS","AKSENT","AVIANOSES","BATSILLA","BIOMITSIN","BOTSMAN","BRONENOSES","BRUTSELLOZ","CHEREPITSA","DOTSENT","FRANSUZ","GAUBITSA","GERS","GLITSERIN","GORCHITSA","GUSENITSA","INERSIYA","INSSENIROVKA","KALSIY","KANSLER","KOEFFITSIENT","KONFERENS-ZAL","KONSEPSIYA","KONSERN","KONSERT","KONSLAGER","KULTIVATSIYA","KVARS","LITSEY","LOTSMAN","MARGANES","MINONOSES","MUNITSIPALITET","OFITSIANT","PENITSILLIN","PLATSDARM","PLATSKARTA","POLITSMEYSTER","JINSIYAT","PENSIYA","RANES","RITSAR","SELLOFAN","SELLULOID","SELLULOZA","SELSIY","SEMENT","SENTNER","SENTRIFUGA","SENZ","SENZOR","SENZURA","SEX","SHNITSEL","SHVEYSAR","SIFERBLAT","SILINDR","SILINDRIK","SINGA","SINK","SIRK","SIRKULYAR","SISTERNA","SITRUS","SOTSIOLOGIK","SOTSIOLOGIYA","SSENARIY","KULTIVATOR","KULTIVATSIYA","KURYER","LAGER","LOSOS","MEBEL","MEDAL","MEDALYON","MENSHEVIK","MENSHEVIZM","MIGREN","MIKROFILM"," MIL ","MODEL","NEFT","NIKEL","NIPPEL","NOL","NOYABR","OKTABR","PALTO","PANEL","PARALLEL","PAROL","PARTER","PATRUL","PAVILYON","PEDAL","PLASTIR","POCHTALYON","PORSHEN","PORTFEL","POVEST","PREDOXRANITEL","PREMYERA","PRISTAN","PULS","PYESA","RELS","RELYEF","RENTABEL","REZBA","RITSAR","ROL","ROYAL","RUL","SELD","SELSIY","SENTABR","SHINEL","SHNITSEL","SHPATEL","SHPILKA","SHPINDEL","SHTAPEL","SHTEMPEL","SHTEPSEL","SPEKTAKL","SPIRAL","STERJEN","SUDYA","SULFAT","TABEL","TEKSTIL","TOKAR","TULEN","TUNNEL","UMIVALNIK","VALERYANKA","VALS","VEKSEL","VELVET","VENTIL","VERMISHEL","VIMPEL","VIOLONCHEL","VOLFRAM","VOLT","VOLTA","VOLTMETR","VULGAR","YAKOR","YANVAR","YURISKONSULT","ANSAMBL","ARTEL","ARTIKL","ARYERGARD","ASFALT","ATELYE","AVTOMOBIL","BALZAM","BANDEROL","BATALYON","BILYARD","BINOKL","BOLSHEVIK","BUDILNIK","BULVAR","DALTON","DEKABR","DELFIN","DEVALVATSIYA","DIRIJABL","DIZEL","DIZEL-MOTOR","DUEL","DVIGATEL","EMULSIYA","ESKADRILYA","FAKULTATIV","FAKULTET","FALSIFIKATOR","FALSIFIKATSIYA","FELDMARSHAL","FELDSHER","FESTIVAL","FEVRAL","FILTR","FOLKLOR","FOTOALBOM","FOTOATELYE","GANTEL","GASTROL","GILZA","GOSPITAL","GOTOVALNIY","GRIFEL","IMPULS","INSULT","INTERVYU","INYEKSIYA","ITALYAN","IYUL","IYUN","KABEL","KALENDAR","KANIFOL","KARAMEL","KARTEL","KARUSEL","KATAPULTA","KINOFESTIVAL","KINOFILM","KISEL","KITEL","KOBALT","KOMPANYON","KONFERANSYE","OBYEKT","RAZYEZD","SUBYEKT","SYEZD","SYOMKA"]
	rc_words=["абзац","акцент","авианосец","бацилла","биомицин","боцман","броненосец","бруцеллоз","черепица","доцент","француз","гаубица","герц","глицерин","горчица","гусеница","инерция","инсценировка","кальций","канцлер","коэффициент","конференц-зал","консепция","концерн","концерт","концлагер","культивация","кварц","лицей","лоцман","марганец","миноносец","муниципалитет","официант","пенициллин","плацдарм","плацкарта","полицмейстер","жинсият","пенсия","ранец","рицарь","целлофан","целлюлоид","целлюлоза","цельсий","цемент","центнер","центрифуга","ценз","цензор","цензура","цех","шницель","швейцар","циферблат","цилиндр","цилиндрик","цинга","цинк","цирк","циркуляр","цистерна","цитрус","социологик","социология","сценарий","культиватор","культивация","курьер","лагерь","лосось","мебель","медаль","медальон","меньшевик","меньшевизм","мигрень","микрофильм","миль","модель","нефть","никель","ниппель","ноль","ноябрь","октябрь","пальто","панель","параллель","пароль","партьер","патруль","павильон","педаль","пластирь","почтальон","поршень","портфель","повесть","предохранитель","премьера","пристань","пульс","пьеса","рельс","рельеф","рентабель","резьба","рицарь","роль","рояль","руль","сельд","цельсий","сентябрь","шинель","шницель","шпатель","шпилька","шпиндель","штапель","штемпель","штепсель","спектакль","спираль","стержень","судья","сульфат","табель","текстиль","токарь","тюлень","туннель","умивальник","валерьянка","вальс","вексель","вельвет","вентиль","вермишель","вимпель","виолончель","вольфрам","вольт","вольта","вольтметр","вульгар","якорь","январь","юрисконсульт","ансамбль","артель","артикль","арьергард","асфальт","ателье","автомобиль","бальзам","бандероль","батальон","бильярд","бинокль","большевик","будильник","бульвар","дальтон","декабрь","дельфин","девальвация","дирижабль","дизель","дизель-мотор","дуэль","двигатель","эмульсия","эскадрилья","факультатив","факультет","фальсификатор","фальсификация","фельдмаршал","фельдшер","фестиваль","февраль","фильтр","фольклор","фотоальбом","фотоателье","гантель","гастроль","гильза","госпиталь","готовальний","грифель","импульс","инсульт","интервью","иньекция","итальян","июль","июнь","кабель","календарь","канифоль","карамель","картель","карусель","катапульта","кинофестиваль","кинофильм","кисель","китель","кобальт","компаньон","конферансье","объект","разъезд","субъект","съезд","съёмка","Абзац","Акцент","Авианосец","Бацилла","Биомицин","Боцман","Броненосец","Бруцеллоз","Черепица","Доцент","Француз","Гаубица","Герц","Глицерин","Горчица","Гусеница","Инерция","Инсценировка","Кальций","Канцлер","Коэффициент","Конференц-Зал","Консепция","Концерн","Концерт","Концлагер","Культивация","Кварц","Лицей","Лоцман","Марганец","Миноносец","Муниципалитет","Официант","Пенициллин","Плацдарм","Плацкарта","Полицмейстер","Жинсият","Пенсия","Ранец","Рицарь","Целлофан","Целлюлоид","Целлюлоза","Цельсий","Цемент","Центнер","Центрифуга","Ценз","Цензор","Цензура","Цех","Шницель","Швейцар","Циферблат","Цилиндр","Цилиндрик","Цинга","Цинк","Цирк","Циркуляр","Цистерна","Цитрус","Социологик","Социология","Сценарий","Культиватор","Культивация","Курьер","Лагерь","Лосось","Мебель","Медаль","Медальон","Меньшевик","Меньшевизм","Мигрень","Микрофильм"," Миль ","Модель","Нефть","Никель","Ниппель","Ноль","Ноябрь","Октябрь","Пальто","Панель","Параллель","Пароль","Партьер","Патруль","Павильон","Педаль","Пластирь","Почтальон","Поршень","Портфель","Повесть","Предохранитель","Премьера","Пристань","Пульс","Пьеса","Рельс","Рельеф","Рентабель","Резьба","Рицарь","Роль","Рояль","Руль","Сельд","Цельсий","Сентябрь","Шинель","Шницель","Шпатель","Шпилька","Шпиндель","Штапель","Штемпель","Штепсель","Спектакль","Спираль","Стержень","Судья","Сульфат","Табель","Текстиль","Токарь","Тюлень","Туннель","Умивальник","Валерьянка","Вальс","Вексель","Вельвет","Вентиль","Вермишель","Вимпель","Виолончель","Вольфрам","Вольт","Вольта","Вольтметр","Вульгар","Якорь","Январь","Юрисконсульт","Ансамбль","Артель","Артикль","Арьергард","Асфальт","Ателье","Автомобиль","Бальзам","Бандероль","Батальон","Бильярд","Бинокль","Большевик","Будильник","Бульвар","Дальтон","Декабрь","Дельфин","Девальвация","Дирижабль","Дизель","Дизель-Мотор","Дуэль","Двигатель","Эмульсия","Эскадрилья","Факультатив","Факультет","Фальсификатор","Фальсификация","Фельдмаршал","Фельдшер","Фестиваль","Февраль","Фильтр","Фольклор","Фотоальбом","Фотоателье","Гантель","Гастроль","Гильза","Госпиталь","Готовальний","Грифель","Импульс","Инсульт","Интервью","Иньекция","Итальян","Июль","Июнь","Кабель","Календарь","Канифоль","Карамель","Картель","Карусель","Катапульта","Кинофестиваль","Кинофильм","Кисель","Китель","Кобальт","Компаньон","Конферансье","Объект","Разъезд","Субъект","Съезд","Съёмка","АБЗАЦ","АКЦЕНТ","АВИАНОСЕЦ","БАЦИЛЛА","БИОМИЦИН","БОЦМАН","БРОНЕНОСЕЦ","БРУЦЕЛЛОЗ","ЧЕРЕПИЦА","ДОЦЕНТ","ФРАНЦУЗ","ГАУБИЦА","ГЕРЦ","ГЛИЦЕРИН","ГОРЧИЦА","ГУСЕНИЦА","ИНЕРЦИЯ","ИНСЦЕНИРОВКА","КАЛЬЦИЙ","КАНЦЛЕР","КОЭФФИЦИЕНТ","КОНФЕРЕНЦ-ЗАЛ","КОНСЕПЦИЯ","КОНЦЕРН","КОНЦЕРТ","КОНЦЛАГЕР","КУЛЬТИВАЦИЯ","КВАРЦ","ЛИЦЕЙ","ЛОЦМАН","МАРГАНЕЦ","МИНОНОСЕЦ","МУНИЦИПАЛИТЕТ","ОФИЦИАНТ","ПЕНИЦИЛЛИН","ПЛАЦДАРМ","ПЛАЦКАРТА","ПОЛИЦМЕЙСТЕР","ЖИНСИЯТ","ПЕНСИЯ","РАНЕЦ","РИЦАРЬ","ЦЕЛЛОФАН","ЦЕЛЛЮЛОИД","ЦЕЛЛЮЛОЗА","ЦЕЛЬСИЙ","ЦЕМЕНТ","ЦЕНТНЕР","ЦЕНТРИФУГА","ЦЕНЗ","ЦЕНЗОР","ЦЕНЗУРА","ЦЕХ","ШНИЦЕЛЬ","ШВЕЙЦАР","ЦИФЕРБЛАТ","ЦИЛИНДР","ЦИЛИНДРИК","ЦИНГА","ЦИНК","ЦИРК","ЦИРКУЛЯР","ЦИСТЕРНА","ЦИТРУС","СОЦИОЛОГИК","СОЦИОЛОГИЯ","СЦЕНАРИЙ","КУЛЬТИВАТОР","КУЛЬТИВАЦИЯ","КУРЬЕР","ЛАГЕРЬ","ЛОСОСЬ","МЕБЕЛЬ","МЕДАЛЬ","МЕДАЛЬОН","МЕНЬШЕВИК","МЕНЬШЕВИЗМ","МИГРЕНЬ","МИКРОФИЛЬМ"," МИЛЬ ","МОДЕЛЬ","НЕФТЬ","НИКЕЛЬ","НИППЕЛЬ","НОЛЬ","НОЯБРЬ","ОКТЯБРЬ","ПАЛЬТО","ПАНЕЛЬ","ПАРАЛЛЕЛЬ","ПАРОЛЬ","ПАРТЬЕР","ПАТРУЛЬ","ПАВИЛЬОН","ПЕДАЛЬ","ПЛАСТИРЬ","ПОЧТАЛЬОН","ПОРШЕНЬ","ПОРТФЕЛЬ","ПОВЕСТЬ","ПРЕДОХРАНИТЕЛЬ","ПРЕМЬЕРА","ПРИСТАНЬ","ПУЛЬС","ПЬЕСА","РЕЛЬС","РЕЛЬЕФ","РЕНТАБЕЛЬ","РЕЗЬБА","РИЦАРЬ","РОЛЬ","РОЯЛЬ","РУЛЬ","СЕЛЬД","ЦЕЛЬСИЙ","СЕНТЯБРЬ","ШИНЕЛЬ","ШНИЦЕЛЬ","ШПАТЕЛЬ","ШПИЛЬКА","ШПИНДЕЛЬ","ШТАПЕЛЬ","ШТЕМПЕЛЬ","ШТЕПСЕЛЬ","СПЕКТАКЛЬ","СПИРАЛЬ","СТЕРЖЕНЬ","СУДЬЯ","СУЛЬФАТ","ТАБЕЛЬ","ТЕКСТИЛЬ","ТОКАРЬ","ТЮЛЕНЬ","ТУННЕЛЬ","УМИВАЛЬНИК","ВАЛЕРЬЯНКА","ВАЛЬС","ВЕКСЕЛЬ","ВЕЛЬВЕТ","ВЕНТИЛЬ","ВЕРМИШЕЛЬ","ВИМПЕЛЬ","ВИОЛОНЧЕЛЬ","ВОЛЬФРАМ","ВОЛЬТ","ВОЛЬТА","ВОЛЬТМЕТР","ВУЛЬГАР","ЯКОРЬ","ЯНВАРЬ","ЮРИСКОНСУЛЬТ","АНСАМБЛЬ","АРТЕЛЬ","АРТИКЛЬ","АРЬЕРГАРД","АСФАЛЬТ","АТЕЛЬЕ","АВТОМОБИЛЬ","БАЛЬЗАМ","БАНДЕРОЛЬ","БАТАЛЬОН","БИЛЬЯРД","БИНОКЛЬ","БОЛЬШЕВИК","БУДИЛЬНИК","БУЛЬВАР","ДАЛЬТОН","ДЕКАБРЬ","ДЕЛЬФИН","ДЕВАЛЬВАЦИЯ","ДИРИЖАБЛЬ","ДИЗЕЛЬ","ДИЗЕЛЬ-МОТОР","ДУЭЛЬ","ДВИГАТЕЛЬ","ЭМУЛЬСИЯ","ЭСКАДРИЛЬЯ","ФАКУЛЬТАТИВ","ФАКУЛЬТЕТ","ФАЛЬСИФИКАТОР","ФАЛЬСИФИКАЦИЯ","ФЕЛЬДМАРШАЛ","ФЕЛЬДШЕР","ФЕСТИВАЛЬ","ФЕВРАЛЬ","ФИЛЬТР","ФОЛЬКЛОР","ФОТОАЛЬБОМ","ФОТОАТЕЛЬЕ","ГАНТЕЛЬ","ГАСТРОЛЬ","ГИЛЬЗА","ГОСПИТАЛЬ","ГОТОВАЛЬНИЙ","ГРИФЕЛЬ","ИМПУЛЬС","ИНСУЛЬТ","ИНТЕРВЬЮ","ИНЬЕКЦИЯ","ИТАЛЬЯН","ИЮЛЬ","ИЮНЬ","КАБЕЛЬ","КАЛЕНДАРЬ","КАНИФОЛЬ","КАРАМЕЛЬ","КАРТЕЛЬ","КАРУСЕЛЬ","КАТАПУЛЬТА","КИНОФЕСТИВАЛЬ","КИНОФИЛЬМ","КИСЕЛЬ","КИТЕЛЬ","КОБАЛЬТ","КОМПАНЬОН","КОНФЕРАНСЬЕ","ОБЪЕКТ","РАЗЪЕЗД","СУБЪЕКТ","СЪЕЗД","СЪЁМКА"]
	l_ts=["SINGARI","Singari","singari","PRINSIP","Prinsip","prinsip","KSIYA","ksiya","KSION","ksion","NSIYA","nsiya","NSION","nsion","TSION","tsion","TSIST","tsist","TSIZM","tsizm","TSIT","tsit","DETSI","detsi","TSEVT","tsevt","TSEPT","tsept","TSER","tser","TSIA","tsia","SIA","sia","TSIKL","tsikl","SIKL","sikl","VITSE","vitse","TSIYA","tsiya","TSIO","tsio","TSIU","tsiu","SIU","siu"]
	c_ts=["СИНГАРИ","Сингари","сингари","ПРИНЦИП","Принцип","принцип","КЦИЯ","кция","КЦИОН","кцион","НЦИЯ","нция","НЦИОН","нцион","ЦИОН","цион","ЦИСТ","цист","ЦИЗМ","цизм","ЦИТ","цит","ДЕЦИ","деци","ЦЕВТ","цевт","ЦЕПТ","цепт","ЦЕР","цер","ЦИА","циа","ЦИА","циа","ЦИКЛ","цикл","ЦИКЛ","цикл","ВИЦЕ","вице","ЦИЯ","ция","ЦИО","цио","ЦИУ","циу","ЦИУ","циу"]
	l_letters_l2c=["YO'","Yo'","yo'","YO","Yo","yo","YA","Ya","ya","YE","Ye","ye","YU","Yu","yu","CH","Ch","ch","S'H","S'h","s'h","SH","Sh","sh","A","a","B","b","D","d","F","f","G","g","H","h","I","i","J","j","K","k","L","l","M","m","N","n","O","o","P","p","Q","q","R","r","S","s","T","t","U","u","V","v","X","x","Y","y","Z","z"]
	c_letters_l2c=["ЙЎ","Йў","йў","Ё","Ё","ё","Я","Я","я","Е","Е","е","Ю","Ю","ю","Ч","Ч","ч","СҲ","Сҳ","сҳ","Ш","Ш","ш","А","а","Б","б","Д","д","Ф","ф","Г","г","Ҳ","ҳ","И","и","Ж","ж","К","к","Л","л","М","м","Н","н","О","о","П","п","Қ","қ","Р","р","С","с","Т","т","У","у","В","в","Х","х","Й","й","З","з"]
	c_letters_c2l=["ЕЪ","Еъ","еъ","СҲ","Сҳ","сҳ","ЬЕ","ье","ЬЁ","ьё","ЪЕ","ъе","ЪЁ","ъё","А","а","Б","б","В","в","Г","г","Д","д","ё","Ж","ж","З","з","И","и","Й","й","К","к","Л","л","М","м","Н","н","О","о","П","п","Р","р","С","с","Т","т","У","у","Ф","ф","Х","х","ч","ш","Э","э","ю","я","Ў","ў","Қ","қ","Ғ","ғ","Ҳ","ҳ","Ъ","ъ","Ь","ь"]
	l_letters_c2l=["E’","E’","e’","S’H","S’h","s’h","YE","ye","YO","yo","YE","ye","YO","yo","A","a","B","b","V","v","G","g","D","d","yo","J","j","Z","z","I","i","Y","y","K","k","L","l","M","m","N","n","O","o","P","p","R","r","S","s","T","t","U","u","F","f","X","x","ch","sh","E","e","yu","ya","O‘","o‘","Q","q","G‘","g‘","H","h","’","’","",""]
	def replaceWordArray(self, text, a1, a2):
		for x in range(0,len(a1)):
			pat = r'\b'+a1[x]+''
			text = re.sub(pat, a2[x], text)
		return text
	def replaceArray(self, text, a1, a2):
		for x in range(0,len(a1)):
			pat = r''+a1[x]+''
			text = re.sub(pat, a2[x], text)
		return text
	def str_replace(self, text, arr, rp):
		for item in arr:
			text = text.replace(item, rp)
		return text
	def toCyrill(self, text):
		text = self.str_replace(text, ['G’','G\'','G`','G‘'], 'Ғ')
		text = self.str_replace(text, ['g’','g\'','g`','g‘'], 'ғ')
		text = self.str_replace(text, ['O’','O\'','O`','O‘'], 'Ў')
		text = self.str_replace(text, ['o’','o\'','o`','o‘'], 'ў')
		text = self.str_replace(text, ['\'','`','‘',], '’')
		text = re.sub(r'bMЎJ', r'МЎЪЖ', text)
		text = re.sub(r'bMўj', r'Мўъж', text)
		text = re.sub(r'bmўj', r'мўъж', text)
		text = re.sub(r'bMЎT', r'МЎЪТ', text)
		text = re.sub(r'bMўt', r'Мўът', text)
		text = re.sub(r'bmўt', r'мўът', text)
		text = re.sub(r'“([^“”]+)”', r'«\1»', text)
		text = re.sub(r'"([^"]+)"', r'«\1»', text)
		text = re.sub(r'-da\b', r'dа', text)
		text = re.sub(r'-ku\b', r'ku', text)
		text = re.sub(r'-chi\b', r'chi', text)
		text = re.sub(r'-yu\b', r'yu', text)
		text = re.sub(r'-u\b', r'u', text)
		text = self.replaceWordArray(text, self.rl_words, self.rc_words)
		text = self.replaceArray(text, self.l_ts, self.c_ts)
		text = re.sub(r'’([A-Z])', r'Ъ\1', text)
		text = re.sub(r'’([a-z])', r'ъ\1', text)
		text = self.replaceArray(text, self.l_letters_l2c, self.c_letters_l2c)
		text = re.sub(r'/^E|([^БВГДЕЁЖЗИЙКЛМНПРСТФХЦЧШЪЫЬЭЮЯЎҚҒҲбвгдеёжзийклмнпрстфхцчшъыьэюяўқғҳ])E|([\s+])E', r'\1\2Э', text)
		text = re.sub(r'/^e|([^БВГДЕЁЖЗИЙКЛМНПРСТФХЦЧШЪЫЬЭЮЯЎҚҒҲбвгдеёжзийклмнпрстфхцчшъыьэюяўқғҳ])e|([\s+])e', r'\1\2э', text)
		text = re.sub(r'e', r'е', text)
		text = re.sub(r'([аоу])эв', r'\1ев', text)
		text = re.sub(r'([АаОоУу])ЭВ', r'\1ЕВ', text)
		text = re.sub(r'(\s)миль([^\w])|\wмиль([^\w])|^миль([^\w])', r'\1мил\2\3', text)
		return text
	def toLatin(self, text):
		text = self.replaceWordArray(text, self.rc_words, self.rl_words)
		text = re.sub(r'"([^"]+)"', r'“\1”', text)
		text = re.sub(r'«([^»]+)»', r'“\1”', text)
		text = self.replaceArray(text, self.c_letters_c2l, self.l_letters_c2l)
		text = re.sub(r'([A-Z])Ё|Ё([A-Z])', r'\1YO\2', text)
		text = re.sub(r'Ё([a-z])|Ё(\s+)|Ё', r'Yo\1\2', text)
		text = re.sub(r'([A-Z])Ч|Ч([A-Z])', r'\1CH\2', text)
		text = re.sub(r'Ч([a-z])|Ч(\s+)|Ч', r'Ch\1\2', text)
		text = re.sub(r'([A-Z])Ш|Ш([A-Z])', r'\1SH\2', text)
		text = re.sub(r'Ш([a-z])|Ш(\s+)|Ш', r'Sh\1\2', text)
		text = re.sub(r'([A-Z])Ю|Ю([A-Z])', r'\1YU\2', text)
		text = re.sub(r'Ю([a-z])|Ю(\s+)|Ю', r'Yu\1\2', text)
		text = re.sub(r'([A-Z])Я|Я([A-Z])', r'\1YA\2', text)
		text = re.sub(r'Я([a-z])|Я(\s+)|Я', r'Ya\1\2', text)
		text = re.sub(r'([AOUЕI])Ц([AOUЕI])', r'\1TS\2', text)
		text = re.sub(r'([aouеi])ц([aouеi])', r'\1ts\2', text)
		text = re.sub(r'Ц', 'S', text)
		text = re.sub(r'ц', 's', text)
		text = re.sub(r'([^\w])Е([A-Z])|([AOUEI])Е([A-Z])|^Е([A-Z])', r'\1\3YE\2\4\5', text)
		text = re.sub(r'([^\w])Е([a-z])|([^\w])Е([^\w])|^Е([a-z])|^Е([^\w])|([^\w])Е', r'\1\3\7Ye\2\4\5\6', text)
		text = re.sub(r'^е|([^\w])е|([aouei])е', r'\1\2ye', text)
		text = re.sub(r'е', r'e', text)
		text = re.sub(r'‘’', r'‘', text)
		return text
	def run(self, edit, **args):
		view = self.view
		do = args['do']
		for region in view.sel():
			if region:
				line = view.substr(region)
				if do == 'latin':
					trans = self.toLatin(line)
					view.replace(edit, region, trans)
				if do == 'cyrillic':
					trans = self.toCyrill(line)
					view.replace(edit, region, trans)
